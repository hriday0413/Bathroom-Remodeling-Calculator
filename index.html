<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Access LLC - Bathroom Calculator</title>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script>
        // Using React globals
const { useState } = React;

// Main component
function BathroomCalculator() {
  // Form state with all specifications
  const [formData, setFormData] = useState({
    // Bathroom dimensions
    currentLength: '',
    currentWidth: '',
    currentHeight: '8',
    newLength: '',
    newWidth: '',
    newHeight: '',
    
    // Wall modifications
    wallsModified: {
      north: false,
      south: false,
      east: false,
      west: false
    },
    
    // Door and window locations
    doorWall: '',
    windowWalls: {
      north: false,
      south: false,
      east: false,
      west: false
    },
    
    // Window dimensions
    windowDimensions: {
      north: { width: 0, height: 0 },
      south: { width: 0, height: 0 },
      east: { width: 0, height: 0 },
      west: { width: 0, height: 0 }
    },
    
    // Basic Specs (included by default as per requirements)
    basicSpecs: {
      accessDoor: true, // Automatically included
      commode: true,
      bathroomAccessories: true,
      medicineCabinet: true,
      underfloorPlumbing: true
    },
    
    // Shower specifications
    includeShower: false,
    showerType: 'walk-in', // walk-in or rolling
    showerBase: { 
      length: 5, // in feet
      width: 3   // in feet
    },
    showerWalls: {
      numberOfNewWalls: 0,
      walls: [] // Array of {length: number, height: number}
    },
    
    // Toilet options
    includeToilet: false,
    toiletShape: 'elongated', // elongated or round
    toiletHeight: '19', // 19 inch or 17 inch
    includePortableCommode: false,
    
    // Vanity
    includeVanity: false,
    vanitySize: '19', // 19, 24, or custom
    vanityCustomSize: '',
    
    // Grab bars - multiple options
    grabBars: {
      include12Inch: false,
      include18Inch: false,
      include24Inch: false,
      include36Inch: false,
      includeFlipUp: false,
      includeWallToFloor: false,
      quantity12Inch: 1,
      quantity18Inch: 1,
      quantity24Inch: 1,
      quantity36Inch: 1,
      quantityFlipUp: 1,
      quantityWallToFloor: 1
    },
    
    // Door options
    widenDoor: false,
    prehungDoor: false, // Added automatically if widening door
    
    // Demolition
    demolition: {
      removeTub: false,
      partitionWall: false,
      partitionWallSize: 'small', // small or bigger
      hasRadiator: false,
      radiatorAction: 'move' // move or remove
    },
    
    // Wall heater
    wallHeater: false,
    
    // Home information for electrical calculations
    homeInfo: {
      hasBasement: false,
      numberOfFloors: 1
    },
    
    // Electrical (some pre-selected as basic specs)
    electrical: {
      showerLight: true, // Basic spec
      vanityLight: true, // Basic spec
      carbonMonoxide: false, // Will be set based on basement
      smokeDetectors: true,
      smokeDetectorQuantity: 1, // Will be set based on floors
      underwriterInspection: true, // Basic spec
      arcFault: true, // Basic spec
      groundFault: true, // Basic spec
      groundFaultLocation: 'first' // first, second, or third
    },
    
    // NEW CALCULATION SECTIONS
    
    // Framing calculations
    framing: {
      buildingNewWall: false,
      extendingWalls: false,
      extensionLength: 0, // in feet
      extensionHeight: 9, // standard height
      roomAdjacentToExtension: false,
      customHeight: false,
      customHeightValue: 9
    },
    
    // Wallboard calculations
    wallboard: {
      includeCeiling: false,
      showerWallMultiplier: 2, // automatically set based on number of walls shower base touches
    },
    
    // Fiberglass calculations  
    fiberglass: {
      exteriorWalls: {
        north: false,
        south: false,
        east: false,
        west: false
      }
    },
    
    // Remove/dispose calculations
    removeDispose: {
      currentFloorType: 'tile', // tile or vinyl
      hasWallTiles: false,
      wallTileHeights: {
        north: 0,
        south: 0,
        east: 0,
        west: 0
      },
      hasFloorTiles: false
    }
  });
  
  // Current step in multi-step form
  const [currentStep, setCurrentStep] = useState(1);
  
  // Materials calculation result
  const [calculationResult, setCalculationResult] = useState(null);
  
  // Handle form input changes
  const handleChange = (e) => {
    const { name, value, type, checked } = e.target;
    
    // Handle nested properties
    if (name.includes('.')) {
      const parts = name.split('.');
      if (parts.length === 2) {
        const [parent, child] = parts;
        setFormData(prevData => ({
          ...prevData,
          [parent]: {
            ...prevData[parent],
            [child]: type === 'checkbox' ? checked : value
          }
        }));
      } else if (parts.length === 3) {
        const [parent, child, grandchild] = parts;
        setFormData(prevData => ({
          ...prevData,
          [parent]: {
            ...prevData[parent],
            [child]: {
              ...prevData[parent][child],
              [grandchild]: type === 'checkbox' ? checked : (type === 'number' ? Number(value) : value)
            }
          }
        }));
      }
    } else {
      setFormData(prevData => ({
        ...prevData,
        [name]: type === 'checkbox' ? checked : value
      }));
    }
  };
  
  // Handle numeric input changes
  const handleNumericChange = (e) => {
    const { name, value } = e.target;
    const numericValue = value === '' ? '' : Number(value);
    
    if (name.includes('.')) {
      const parts = name.split('.');
      if (parts.length === 2) {
        const [parent, child] = parts;
        setFormData(prevData => ({
          ...prevData,
          [parent]: {
            ...prevData[parent],
            [child]: numericValue
          }
        }));
      } else if (parts.length === 3) {
        const [parent, child, grandchild] = parts;
        setFormData(prevData => ({
          ...prevData,
          [parent]: {
            ...prevData[parent],
            [child]: {
              ...prevData[parent][child],
              [grandchild]: numericValue
            }
          }
        }));
      }
    } else {
      setFormData(prevData => ({
        ...prevData,
        [name]: numericValue
      }));
    }
  };

  // Handle shower wall changes
  const handleShowerWallsChange = (numberOfWalls) => {
    const walls = Array.from({ length: numberOfWalls }, (_, i) => 
      formData.showerWalls.walls[i] || { length: 0, height: 8 }
    );
    
    setFormData(prevData => ({
      ...prevData,
      showerWalls: {
        numberOfNewWalls: numberOfWalls,
        walls: walls
      },
      wallboard: {
        ...prevData.wallboard,
        showerWallMultiplier: numberOfWalls > 0 ? numberOfWalls : 2
      }
    }));
  };

  const handleIndividualWallChange = (index, field, value) => {
    const updatedWalls = [...formData.showerWalls.walls];
    updatedWalls[index] = {
      ...updatedWalls[index],
      [field]: Number(value)
    };
    
    setFormData(prevData => ({
      ...prevData,
      showerWalls: {
        ...prevData.showerWalls,
        walls: updatedWalls
      }
    }));
  };
  
  // Navigation functions
  const nextStep = () => {
    // Auto-set carbon monoxide based on basement
    if (currentStep === 2) {
      setFormData(prev => ({
        ...prev,
        electrical: {
          ...prev.electrical,
          carbonMonoxide: prev.homeInfo.hasBasement,
          smokeDetectorQuantity: prev.homeInfo.numberOfFloors
        }
      }));
    }
    
    // Auto-add pre-hung door if widening door
    if (currentStep === 5 && formData.widenDoor) {
      setFormData(prev => ({
        ...prev,
        prehungDoor: true
      }));
    }
    
    setCurrentStep(currentStep + 1);
  };
  
  const prevStep = () => {
    setCurrentStep(currentStep - 1);
  };
  
  // Calculate materials with new detailed requirements
  const calculateMaterials = () => {
    const materials = [];
    
    // Helper to add materials
    const addMaterial = (description, quantity, unit = "unit") => {
      if (quantity > 0) {
        materials.push({ description, quantity: Math.ceil(quantity), unit });
      }
    };
    
    // Convert dimensions to numbers
    const current = {
      length: Number(formData.currentLength) || 0,
      width: Number(formData.currentWidth) || 0,
      height: Number(formData.currentHeight) || 8
    };
    
    const newDim = {
      length: Number(formData.newLength) || current.length,
      width: Number(formData.newWidth) || current.width,
      height: Number(formData.newHeight) || current.height
    };

    // Calculate shower base area and perimeter
    const showerBaseArea = formData.includeShower ? 
      Number(formData.showerBase.length) * Number(formData.showerBase.width) : 0;
    const showerBasePerimeter = formData.includeShower ? 
      2 * (Number(formData.showerBase.length) + Number(formData.showerBase.width)) : 0;

    // Calculate total area of new shower walls
    let totalShowerWallArea = 0;
    if (formData.includeShower && formData.showerWalls.numberOfNewWalls > 0) {
      totalShowerWallArea = formData.showerWalls.walls.reduce((total, wall) => {
        return total + (Number(wall.length) * Number(wall.height));
      }, 0);
    }
    
    // FRAMING CALCULATIONS - NEW shower walls + extensions
    let framingArea = 0;
    
    // Add shower wall framing
    if (formData.includeShower && formData.showerWalls.numberOfNewWalls > 0) {
      framingArea += totalShowerWallArea;
    }
    
    // Add extension framing
    if (formData.framing.buildingNewWall || formData.framing.extendingWalls) {
      if (formData.framing.extendingWalls && formData.framing.extensionLength > 0) {
        const extensionLength = Number(formData.framing.extensionLength);
        const extensionFramingArea = extensionLength * 9;
        
        if (formData.framing.roomAdjacentToExtension) {
          framingArea += extensionFramingArea * 2;
        } else {
          framingArea += extensionFramingArea;
        }
      }
    }
    
    addMaterial("Frame", framingArea, "sq ft");
    
    // DRYWALL CALCULATIONS
    let drywallArea = 0;
    
    // Calculate perimeter of all bathroom walls
    const wallPerimeter = 2 * (newDim.length + newDim.width);
    drywallArea = wallPerimeter * newDim.height;
    
    // Subtract NEW shower wall areas (these get wallboard instead)
    drywallArea -= totalShowerWallArea;
    
    // Subtract window dimensions
    Object.entries(formData.windowWalls).forEach(([wall, hasWindow]) => {
      if (hasWindow) {
        const windowWidth = Number(formData.windowDimensions[wall].width) / 12; // Convert to feet
        const windowHeight = Number(formData.windowDimensions[wall].height) / 12;
        drywallArea -= (windowWidth * windowHeight);
      }
    });
    
    addMaterial("Drywall", drywallArea, "sq ft");
    
    // WALLBOARD CALCULATIONS
    let wallboardArea = 0;
    
    // Ceiling area if included
    if (formData.wallboard.includeCeiling) {
      wallboardArea += newDim.length * newDim.width;
    }
    
    // Shower wall areas multiplied by number of walls shower base touches
    if (formData.includeShower && totalShowerWallArea > 0) {
      wallboardArea += totalShowerWallArea * Number(formData.wallboard.showerWallMultiplier);
    }
    
    addMaterial("Wall board", wallboardArea, "sq ft");
    
    // BASEBOARD CALCULATIONS
    let baseboardLength = 0;
    if (formData.basicSpecs.accessDoor) {
      baseboardLength = 2 * (newDim.length + newDim.width);
      
      // Subtract shower base perimeter (no baseboard within shower base)
      baseboardLength -= showerBasePerimeter;
    }
    
    addMaterial("Baseboard", baseboardLength, "linear ft");
    
    // FIBERGLASS CALCULATIONS
    let fiberglassArea = 0;
    Object.entries(formData.fiberglass.exteriorWalls).forEach(([wall, isExterior]) => {
      if (isExterior) {
        let wallLength = 0;
        if (wall === 'north' || wall === 'south') {
          wallLength = newDim.length;
        } else {
          wallLength = newDim.width;
        }
        fiberglassArea += wallLength * newDim.height;
      }
    });
    
    addMaterial("Fiberglass insulate", fiberglassArea, "sq ft");
    
    // CERAMIC TILE CALCULATIONS
    const bathroomArea = newDim.length * newDim.width;
    let ceramicTileArea = bathroomArea - showerBaseArea;
    
    addMaterial("Ceramic tile", ceramicTileArea, "sq ft");
    
    // PAINT CALCULATIONS
    const paintArea = drywallArea + wallboardArea;
    addMaterial("Paint", paintArea, "sq ft");
    
    // UNDERLAYMENT CALCULATIONS (shower base floor area)
    addMaterial("Underlayment", showerBaseArea, "sq ft");
    
    // REMOVE/DISPOSE CALCULATIONS
    if (formData.removeDispose.currentFloorType === 'tile') {
      addMaterial("Remove/dispose wet bed material", ceramicTileArea, "sq ft");
    }
    
    if (formData.removeDispose.hasFloorTiles) {
      addMaterial("Remove/dispose floor material", bathroomArea, "sq ft");
    }
    
    if (formData.removeDispose.hasWallTiles) {
      let totalWallTileArea = 0;
      
      Object.entries(formData.removeDispose.wallTileHeights).forEach(([wall, height]) => {
        if (height > 0) {
          let wallLength = 0;
          if (wall === 'north' || wall === 'south') {
            wallLength = newDim.length;
          } else {
            wallLength = newDim.width;
          }
          totalWallTileArea += wallLength * (height / 12); // Convert inches to feet
        }
      });
      
      if (totalWallTileArea > 0) {
        addMaterial("Remove/dispose wall material", totalWallTileArea, "sq ft");
      }
    }
    
    // Add all other items from previous implementation
    
    // Basic specs (always included)
    addMaterial("Access door", 1);
    addMaterial("Bathroom accessories", 1);
    addMaterial("Medicine cabinet", 1);
    addMaterial("Underfloor plumbing", 1);
    
    // Shower items
    if (formData.includeShower) {
      addMaterial(`${formData.showerType} shower base`, 1);
    }
    
    // Toilet options
    if (formData.includeToilet) {
      const toiletDesc = `${formData.toiletHeight}" ${formData.toiletShape} toilet`;
      addMaterial(toiletDesc, 1);
    }
    
    // Add portable commode (always included)
    addMaterial("Portable commode", 1);
    
    // Vanity
    if (formData.includeVanity) {
      const vanityDescription = formData.vanitySize === 'custom' ? 
                               `${formData.vanityCustomSize}" vanity` : 
                               `${formData.vanitySize}" vanity`;
      addMaterial(vanityDescription, 1);
    }
    
    // Grab bars
    if (formData.grabBars.include12Inch) {
      addMaterial("12\" grab bar", formData.grabBars.quantity12Inch);
    }
    if (formData.grabBars.include18Inch) {
      addMaterial("18\" grab bar", formData.grabBars.quantity18Inch);
    }
    if (formData.grabBars.include24Inch) {
      addMaterial("24\" grab bar", formData.grabBars.quantity24Inch);
    }
    if (formData.grabBars.include36Inch) {
      addMaterial("36\" grab bar", formData.grabBars.quantity36Inch);
    }
    if (formData.grabBars.includeFlipUp) {
      addMaterial("Flip-up/hinged grab bar", formData.grabBars.quantityFlipUp);
    }
    if (formData.grabBars.includeWallToFloor) {
      addMaterial("Wall to floor grab bar", formData.grabBars.quantityWallToFloor);
    }
    
    // Door modifications
    if (formData.widenDoor) {
      addMaterial("Enlarge door", 1);
      addMaterial("Pre-hung door", 1);
    }
    
    // Demolition
    if (formData.demolition.removeTub) {
      addMaterial("Remove tub", 1);
    }
    
    if (formData.demolition.partitionWall) {
      const wallDesc = formData.demolition.partitionWallSize === 'small' ? 
                       "Remove small partition wall" : "Remove large partition wall";
      addMaterial(wallDesc, 1);
    }
    
    if (formData.demolition.hasRadiator) {
      if (formData.demolition.radiatorAction === 'remove') {
        addMaterial("Remove radiator, cap lines", 1);
      } else {
        addMaterial("Move radiator", 1);
      }
    }
    
    // Wall heater
    if (formData.wallHeater) {
      addMaterial("Electric wall heater", 1);
    }
    
    // Electrical items (basic specs)
    addMaterial("Shower light", 1);
    addMaterial("Vanity light", 1);
    addMaterial("Underwriter inspection", 1);
    addMaterial("Arc fault circuit breaker", 1);
    addMaterial(`Ground fault receptacle (${formData.electrical.groundFaultLocation})`, 1);
    
    if (formData.electrical.carbonMonoxide) {
      addMaterial("Carbon monoxide detector", 1);
    }
    
    if (formData.electrical.smokeDetectors) {
      addMaterial("Smoke detector", formData.electrical.smokeDetectorQuantity);
    }
    
    // Set calculation result
    setCalculationResult({
      materials,
      dimensions: {
        current: {
          length: formData.currentLength,
          width: formData.currentWidth,
          height: formData.currentHeight
        },
        new: {
          length: formData.newLength || formData.currentLength,
          width: formData.newWidth || formData.currentWidth,
          height: formData.newHeight || formData.currentHeight
        }
      },
      calculations: {
        framingArea,
        drywallArea,
        wallboardArea,
        baseboardLength,
        fiberglassArea,
        ceramicTileArea,
        paintArea,
        showerBaseArea,
        showerBasePerimeter,
        totalShowerWallArea
      }
    });
    
    // Show results
    setCurrentStep(15);
  };
  
  // Render current step
  const renderStep = () => {
    switch(currentStep) {
      case 1:
        return (
          <div className="p-4 bg-blue-50 rounded-lg">
            <h2 className="text-xl font-bold mb-4">Step 1: Bathroom Dimensions</h2>
            
            <div className="mb-4">
              <h3 className="font-bold mb-2">Original Bathroom Dimensions</h3>
              <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                  <label className="block mb-1">Length (feet)</label>
                  <input 
                    type="number" 
                    name="currentLength" 
                    value={formData.currentLength} 
                    onChange={handleNumericChange}
                    className="w-full p-2 border rounded"
                    min="0"
                    step="0.1"
                  />
                </div>
                <div>
                  <label className="block mb-1">Width (feet)</label>
                  <input 
                    type="number" 
                    name="currentWidth" 
                    value={formData.currentWidth} 
                    onChange={handleNumericChange}
                    className="w-full p-2 border rounded"
                    min="0"
                    step="0.1"
                  />
                </div>
                <div>
                  <label className="block mb-1">Height (feet)</label>
                  <input 
                    type="number" 
                    name="currentHeight" 
                    value={formData.currentHeight} 
                    onChange={handleNumericChange}
                    className="w-full p-2 border rounded"
                    min="0"
                    step="0.1"
                  />
                </div>
              </div>
            </div>
            
            <div className="mb-4">
              <h3 className="font-bold mb-2">Modified Bathroom Dimensions</h3>
              <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                  <label className="block mb-1">New Length (feet)</label>
                  <input 
                    type="number" 
                    name="newLength" 
                    value={formData.newLength} 
                    onChange={handleNumericChange}
                    className="w-full p-2 border rounded"
                    min="0"
                    step="0.1"
                    placeholder="Leave blank if same"
                  />
                </div>
                <div>
                  <label className="block mb-1">New Width (feet)</label>
                  <input 
                    type="number" 
                    name="newWidth" 
                    value={formData.newWidth} 
                    onChange={handleNumericChange}
                    className="w-full p-2 border rounded"
                    min="0"
                    step="0.1"
                    placeholder="Leave blank if same"
                  />
                </div>
                <div>
                  <label className="block mb-1">New Height (feet)</label>
                  <input 
                    type="number" 
                    name="newHeight" 
                    value={formData.newHeight} 
                    onChange={handleNumericChange}
                    className="w-full p-2 border rounded"
                    min="0"
                    step="0.1"
                    placeholder="Leave blank if same"
                  />
                </div>
              </div>
            </div>
            
            <div className="mb-4">
              <h3 className="font-bold mb-2">Which walls are being modified?</h3>
              <div className="grid grid-cols-2 gap-2">
                <label className="flex items-center">
                  <input 
                    type="checkbox" 
                    name="wallsModified.north" 
                    checked={formData.wallsModified.north} 
                    onChange={handleChange}
                    className="mr-2"
                  />
                  North Wall
                </label>
                <label className="flex items-center">
                  <input 
                    type="checkbox" 
                    name="wallsModified.south" 
                    checked={formData.wallsModified.south} 
                    onChange={handleChange}
                    className="mr-2"
                  />
                  South Wall
                </label>
                <label className="flex items-center">
                  <input 
                    type="checkbox" 
                    name="wallsModified.east" 
                    checked={formData.wallsModified.east} 
                    onChange={handleChange}
                    className="mr-2"
                  />
                  East Wall
                </label>
                <label className="flex items-center">
                  <input 
                    type="checkbox" 
                    name="wallsModified.west" 
                    checked={formData.wallsModified.west} 
                    onChange={handleChange}
                    className="mr-2"
                  />
                  West Wall
                </label>
              </div>
            </div>
            
            <div className="mt-6 flex justify-end">
              <button 
                onClick={nextStep}
                className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
              >
                Next
              </button>
            </div>
          </div>
        );
        
      case 2:
        return (
          <div className="p-4 bg-blue-50 rounded-lg">
            <h2 className="text-xl font-bold mb-4">Step 2: Home Information</h2>
            
            <div className="mb-4">
              <h3 className="font-bold mb-2">Door and Window Locations</h3>
              
              <div className="mb-4">
                <label className="block mb-1">Which wall is connected to the door?</label>
                <select
                  name="doorWall"
                  value={formData.doorWall}
                  onChange={handleChange}
                  className="w-full p-2 border rounded"
                >
                  <option value="">Select wall</option>
                  <option value="north">North Wall</option>
                  <option value="south">South Wall</option>
                  <option value="east">East Wall</option>
                  <option value="west">West Wall</option>
                </select>
              </div>
              
              <div className="mb-4">
                <label className="block mb-2">Which walls have windows?</label>
                <div className="grid grid-cols-2 gap-2">
                  <label className="flex items-center">
                    <input 
                      type="checkbox" 
                      name="windowWalls.north" 
                      checked={formData.windowWalls.north} 
                      onChange={handleChange}
                      className="mr-2"
                    />
                    North Wall
                  </label>
                  <label className="flex items-center">
                    <input 
                      type="checkbox" 
                      name="windowWalls.south" 
                      checked={formData.windowWalls.south} 
                      onChange={handleChange}
                      className="mr-2"
                    />
                    South Wall
                  </label>
                  <label className="flex items-center">
                    <input 
                      type="checkbox" 
                      name="windowWalls.east" 
                      checked={formData.windowWalls.east} 
                      onChange={handleChange}
                      className="mr-2"
                    />
                    East Wall
                  </label>
                  <label className="flex items-center">
                    <input 
                      type="checkbox" 
                      name="windowWalls.west" 
                      checked={formData.windowWalls.west} 
                      onChange={handleChange}
                      className="mr-2"
                    />
                    West Wall
                  </label>
                </div>
              </div>
              
              {/* Window dimensions for checked walls */}
              {Object.entries(formData.windowWalls).map(([wall, hasWindow]) => (
                hasWindow && (
                  <div key={wall} className="mb-4 p-3 border rounded bg-white">
                    <h4 className="font-semibold mb-2">{wall.charAt(0).toUpperCase() + wall.slice(1)} Wall Window Dimensions</h4>
                    <div className="grid grid-cols-2 gap-4">
                      <div>
                        <label className="block mb-1">Width (inches)</label>
                        <input 
                          type="number" 
                          name={`windowDimensions.${wall}.width`}
                          value={formData.windowDimensions[wall].width} 
                          onChange={handleNumericChange}
                          className="w-full p-2 border rounded"
                          min="0"
                        />
                      </div>
                      <div>
                        <label className="block mb-1">Height (inches)</label>
                        <input 
                          type="number" 
                          name={`windowDimensions.${wall}.height`}
                          value={formData.windowDimensions[wall].height} 
                          onChange={handleNumericChange}
                          className="w-full p-2 border rounded"
                          min="0"
                        />
                      </div>
                    </div>
                  </div>
                )
              ))}
            </div>
            
            <div className="mb-4">
              <h3 className="font-bold mb-2">Home Information (for electrical calculations)</h3>
              
              <div className="mb-4">
                <label className="flex items-center">
                  <input 
                    type="checkbox" 
                    name="homeInfo.hasBasement" 
                    checked={formData.homeInfo.hasBasement} 
                    onChange={handleChange}
                    className="mr-2"
                  />
                  Home has basement (for carbon monoxide detector)
                </label>
              </div>
              
              <div className="mb-4">
                <label className="block mb-1">Number of floors in home (for smoke detectors)</label>
                <input 
                  type="number" 
                  name="homeInfo.numberOfFloors" 
                  value={formData.homeInfo.numberOfFloors} 
                  onChange={handleNumericChange}
                  className="w-full p-2 border rounded"
                  min="1"
                />
                <span className="text-sm text-gray-600">One smoke detector per floor</span>
              </div>
            </div>
            
            <div className="mt-6 flex justify-between">
              <button 
                onClick={prevStep}
                className="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"
              >
                Back
              </button>
              <button 
                onClick={nextStep}
                className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
              >
                Next
              </button>
            </div>
          </div>
        );
        
      case 3:
        return (
          <div className="p-4 bg-blue-50 rounded-lg">
            <h2 className="text-xl font-bold mb-4">Step 3: Framing Calculations</h2>
            
            <div className="mb-4">
              <label className="flex items-center">
                <input 
                  type="checkbox" 
                  name="framing.buildingNewWall" 
                  checked={formData.framing.buildingNewWall} 
                  onChange={handleChange}
                  className="mr-2"
                />
                Building a new wall (not for shower)
              </label>
            </div>
            
            <div className="mb-4">
              <label className="flex items-center">
                <input 
                  type="checkbox" 
                  name="framing.extendingWalls" 
                  checked={formData.framing.extendingWalls} 
                  onChange={handleChange}
                  className="mr-2"
                />
                Extending existing walls
              </label>
              
              {formData.framing.extendingWalls && (
                <div className="mt-2 ml-6 p-3 border rounded bg-white">
                  <div className="mb-4">
                    <label className="block mb-1">Length of extension (feet)</label>
                    <input 
                      type="number" 
                      name="framing.extensionLength" 
                      value={formData.framing.extensionLength} 
                      onChange={handleNumericChange}
                      className="w-full p-2 border rounded"
                      min="0"
                      step="0.1"
                    />
                    <span className="text-sm text-gray-600">Will be multiplied by 9 feet (standard height)</span>
                  </div>
                  
                  <div className="mb-4">
                    <label className="flex items-center">
                      <input 
                        type="checkbox" 
                        name="framing.roomAdjacentToExtension" 
                        checked={formData.framing.roomAdjacentToExtension} 
                        onChange={handleChange}
                        className="mr-2"
                      />
                      Room adjacent to extended wall (doubles framing area)
                    </label>
                  </div>
                </div>
              )}
            </div>
            
            <div className="p-3 bg-blue-100 rounded">
              <p className="text-blue-800 text-sm">Note: Shower wall framing will be calculated automatically in the shower section.</p>
            </div>
            
            <div className="mt-6 flex justify-between">
              <button 
                onClick={prevStep}
                className="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"
              >
                Back
              </button>
              <button 
                onClick={nextStep}
                className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
              >
                Next
              </button>
            </div>
          </div>
        );
        
      case 4:
        return (
          <div className="p-4 bg-blue-50 rounded-lg">
            <h2 className="text-xl font-bold mb-4">Step 4: Shower Specifications</h2>
            
            <div className="mb-4">
              <label className="flex items-center">
                <input 
                  type="checkbox" 
                  name="includeShower" 
                  checked={formData.includeShower} 
                  onChange={handleChange}
                  className="mr-2"
                />
                Include Shower
              </label>
              
              {formData.includeShower && (
                <div className="mt-4 space-y-4">
                  <div className="p-3 border rounded bg-white">
                    <div className="mb-4">
                      <label className="block mb-1">Shower Type</label>
                      <select
                        name="showerType"
                        value={formData.showerType}
                        onChange={handleChange}
                        className="w-full p-2 border rounded"
                      >
                        <option value="walk-in">Walk-in Shower</option>
                        <option value="rolling">Rolling Shower</option>
                      </select>
                    </div>
                    
                    <h3 className="font-semibold mb-2">Shower Base Dimensions (floor area)</h3>
                    <div className="grid grid-cols-2 gap-4">
                      <div>
                        <label className="block mb-1">Length (feet)</label>
                        <input 
                          type="number" 
                          name="showerBase.length" 
                          value={formData.showerBase.length} 
                          onChange={handleNumericChange}
                          className="w-full p-2 border rounded"
                          min="0"
                          step="0.1"
                        />
                      </div>
                      <div>
                        <label className="block mb-1">Width (feet)</label>
                        <input 
                          type="number" 
                          name="showerBase.width" 
                          value={formData.showerBase.width} 
                          onChange={handleNumericChange}
                          className="w-full p-2 border rounded"
                          min="0"
                          step="0.1"
                        />
                      </div>
                    </div>
                  </div>

                  <div className="p-3 border rounded bg-white">
                    <h3 className="font-semibold mb-2">Shower Wall Construction</h3>
                    <div className="mb-4">
                      <label className="block mb-1">How many NEW walls need to be built for the shower?</label>
                      <select
                        value={formData.showerWalls.numberOfNewWalls}
                        onChange={(e) => handleShowerWallsChange(Number(e.target.value))}
                        className="w-full p-2 border rounded"
                      >
                        <option value={0}>0 - Using existing bathroom walls</option>
                        <option value={1}>1 new wall</option>
                        <option value={2}>2 new walls</option>
                        <option value={3}>3 new walls</option>
                        <option value={4}>4 new walls (complete enclosure)</option>
                      </select>
                      <span className="text-sm text-gray-600">
                        This determines how many walls the shower base touches (affects wallboard calculation)
                      </span>
                    </div>

                    {formData.showerWalls.numberOfNewWalls > 0 && (
                      <div className="space-y-3">
                        <h4 className="font-medium">Dimensions for each new wall:</h4>
                        {formData.showerWalls.walls.map((wall, index) => (
                          <div key={index} className="p-3 bg-gray-50 rounded">
                            <h5 className="font-medium mb-2">Wall {index + 1}</h5>
                            <div className="grid grid-cols-2 gap-4">
                              <div>
                                <label className="block mb-1">Length (feet)</label>
                                <input 
                                  type="number" 
                                  value={wall.length || ''} 
                                  onChange={(e) => handleIndividualWallChange(index, 'length', e.target.value)}
                                  className="w-full p-2 border rounded"
                                  min="0"
                                  step="0.1"
                                />
                              </div>
                              <div>
                                <label className="block mb-1">Height (feet)</label>
                                <input 
                                  type="number" 
                                  value={wall.height || ''} 
                                  onChange={(e) => handleIndividualWallChange(index, 'height', e.target.value)}
                                  className="w-full p-2 border rounded"
                                  min="0"
                                  step="0.1"
                                />
                              </div>
                            </div>
                          </div>
                        ))}
                      </div>
                    )}
                  </div>
                </div>
              )}
            </div>
            
            <div className="mt-6 flex justify-between">
              <button 
                onClick={prevStep}
                className="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"
              >
                Back
              </button>
              <button 
                onClick={nextStep}
                className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
              >
                Next
              </button>
            </div>
          </div>
        );
        
      case 5:
        return (
          <div className="p-4 bg-blue-50 rounded-lg">
            <h2 className="text-xl font-bold mb-4">Step 5: Wallboard Calculations</h2>
            
            <div className="mb-4">
              <label className="flex items-center">
                <input 
                  type="checkbox" 
                  name="wallboard.includeCeiling" 
                  checked={formData.wallboard.includeCeiling} 
                  onChange={handleChange}
                  className="mr-2"
                />
                Include ceiling area in wallboard calculation
              </label>
            </div>
            
            {formData.includeShower && formData.showerWalls.numberOfNewWalls > 0 && (
              <div className="mb-4 p-3 bg-white border rounded">
                <p className="text-sm text-gray-700">
                  <strong>Shower wall multiplier:</strong> {formData.wallboard.showerWallMultiplier} 
                  (automatically set based on {formData.showerWalls.numberOfNewWalls} new shower walls)
                </p>
                <p className="text-xs text-gray-600 mt-1">
                  This represents how many walls the shower base touches, affecting the wallboard coating requirements.
                </p>
              </div>
            )}
            
            <div className="mt-6 flex justify-between">
              <button 
                onClick={prevStep}
                className="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"
              >
                Back
              </button>
              <button 
                onClick={nextStep}
                className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
              >
                Next
              </button>
            </div>
          </div>
        );
        
      case 6:
        return (
          <div className="p-4 bg-blue-50 rounded-lg">
            <h2 className="text-xl font-bold mb-4">Step 6: Fiberglass Calculations</h2>
            
            <div className="mb-4">
              <h3 className="font-bold mb-2">Which walls face the exterior (need fiberglass)?</h3>
              <div className="grid grid-cols-2 gap-2">
                <label className="flex items-center">
                  <input 
                    type="checkbox" 
                    name="fiberglass.exteriorWalls.north" 
                    checked={formData.fiberglass.exteriorWalls.north} 
                    onChange={handleChange}
                    className="mr-2"
                  />
                  North Wall
                </label>
                <label className="flex items-center">
                  <input 
                    type="checkbox" 
                    name="fiberglass.exteriorWalls.south" 
                    checked={formData.fiberglass.exteriorWalls.south} 
                    onChange={handleChange}
                    className="mr-2"
                  />
                  South Wall
                </label>
                <label className="flex items-center">
                  <input 
                    type="checkbox" 
                    name="fiberglass.exteriorWalls.east" 
                    checked={formData.fiberglass.exteriorWalls.east} 
                    onChange={handleChange}
                    className="mr-2"
                  />
                  East Wall
                </label>
                <label className="flex items-center">
                  <input 
                    type="checkbox" 
                    name="fiberglass.exteriorWalls.west" 
                    checked={formData.fiberglass.exteriorWalls.west} 
                    onChange={handleChange}
                    className="mr-2"
                  />
                  West Wall
                </label>
              </div>
              <p className="text-sm text-gray-600 mt-2">Only walls that face outside need fiberglass insulation</p>
            </div>
            
            <div className="mt-6 flex justify-between">
              <button 
                onClick={prevStep}
                className="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"
              >
                Back
              </button>
              <button 
                onClick={nextStep}
                className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
              >
                Next
              </button>
            </div>
          </div>
        );
        
      case 7:
        return (
          <div className="p-4 bg-blue-50 rounded-lg">
            <h2 className="text-xl font-bold mb-4">Step 7: Remove/Dispose Calculations</h2>
            
            <div className="mb-4">
              <label className="block mb-1">Current floor type</label>
              <select
                name="removeDispose.currentFloorType"
                value={formData.removeDispose.currentFloorType}
                onChange={handleChange}
                className="w-full p-2 border rounded"
              >
                <option value="tile">Tile</option>
                <option value="vinyl">Vinyl</option>
              </select>
              {formData.removeDispose.currentFloorType === 'tile' && (
                <p className="text-sm text-blue-600 mt-1">Wetbed removal will be calculated (same area as ceramic tile)</p>
              )}
            </div>
            
            <div className="mb-4">
              <label className="flex items-center">
                <input 
                  type="checkbox" 
                  name="removeDispose.hasFloorTiles" 
                  checked={formData.removeDispose.hasFloorTiles} 
                  onChange={handleChange}
                  className="mr-2"
                />
                Floor has tiles to remove
              </label>
            </div>
            
            <div className="mb-4">
              <label className="flex items-center">
                <input 
                  type="checkbox" 
                  name="removeDispose.hasWallTiles" 
                  checked={formData.removeDispose.hasWallTiles} 
                  onChange={handleChange}
                  className="mr-2"
                />
                Walls have tiles to remove
              </label>
              
              {formData.removeDispose.hasWallTiles && (
                <div className="mt-2 ml-6 p-3 border rounded bg-white">
                  <h4 className="font-semibold mb-2">Wall Tile Heights (inches) for each wall</h4>
                  <div className="grid grid-cols-2 gap-4">
                    <div>
                      <label className="block mb-1">North Wall</label>
                      <input 
                        type="number" 
                        name="removeDispose.wallTileHeights.north" 
                        value={formData.removeDispose.wallTileHeights.north} 
                        onChange={handleNumericChange}
                        className="w-full p-2 border rounded"
                        min="0"
                        placeholder="0"
                      />
                    </div>
                    <div>
                      <label className="block mb-1">South Wall</label>
                      <input 
                        type="number" 
                        name="removeDispose.wallTileHeights.south" 
                        value={formData.removeDispose.wallTileHeights.south} 
                        onChange={handleNumericChange}
                        className="w-full p-2 border rounded"
                        min="0"
                        placeholder="0"
                      />
                    </div>
                    <div>
                      <label className="block mb-1">East Wall</label>
                      <input 
                        type="number" 
                        name="removeDispose.wallTileHeights.east" 
                        value={formData.removeDispose.wallTileHeights.east} 
                        onChange={handleNumericChange}
                        className="w-full p-2 border rounded"
                        min="0"
                        placeholder="0"
                      />
                    </div>
                    <div>
                      <label className="block mb-1">West Wall</label>
                      <input 
                        type="number" 
                        name="removeDispose.wallTileHeights.west" 
                        value={formData.removeDispose.wallTileHeights.west} 
                        onChange={handleNumericChange}
                        className="w-full p-2 border rounded"
                        min="0"
                        placeholder="0"
                      />
                    </div>
                  </div>
                  <span className="text-sm text-gray-600">Enter height of tiles on each wall (0 if no tiles on that wall)</span>
                </div>
              )}
            </div>
            
            <div className="mt-6 flex justify-between">
              <button 
                onClick={prevStep}
                className="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"
              >
                Back
              </button>
              <button 
                onClick={nextStep}
                className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
              >
                Next
              </button>
            </div>
          </div>
        );
        
      case 8:
        return (
          <div className="p-4 bg-blue-50 rounded-lg">
            <h2 className="text-xl font-bold mb-4">Step 8: Toilet & Vanity</h2>
            
            <div className="mb-4">
              <label className="flex items-center">
                <input 
                  type="checkbox" 
                  name="includeToilet" 
                  checked={formData.includeToilet} 
                  onChange={handleChange}
                  className="mr-2"
                />
                Include Toilet
              </label>
              
              {formData.includeToilet && (
                <div className="mt-2 ml-6 p-3 border rounded bg-white">
                  <div className="mb-4">
                    <label className="block mb-1">Toilet Shape</label>
                    <select
                      name="toiletShape"
                      value={formData.toiletShape}
                      onChange={handleChange}
                      className="w-full p-2 border rounded"
                    >
                      <option value="elongated">Elongated</option>
                      <option value="round">Round</option>
                    </select>
                  </div>
                  
                  <div className="mb-4">
                    <label className="block mb-1">Toilet Height</label>
                    <select
                      name="toiletHeight"
                      value={formData.toiletHeight}
                      onChange={handleChange}
                      className="w-full p-2 border rounded"
                    >
                      <option value="19">19 inch</option>
                      <option value="17">17 inch (ADA)</option>
                    </select>
                  </div>
                </div>
              )}
            </div>
            
            <div className="mb-4">
              <label className="flex items-center">
                <input 
                  type="checkbox" 
                  name="includeVanity" 
                  checked={formData.includeVanity} 
                  onChange={handleChange}
                  className="mr-2"
                />
                Include Vanity
              </label>
              
              {formData.includeVanity && (
                <div className="mt-2 ml-6 p-3 border rounded bg-white">
                  <label className="block mb-1">Vanity Size</label>
                  <select
                    name="vanitySize"
                    value={formData.vanitySize}
                    onChange={handleChange}
                    className="w-full p-2 border rounded mb-2"
                  >
                    <option value="19">19 inch</option>
                    <option value="24">24 inch</option>
                    <option value="custom">Other (specify)</option>
                  </select>
                  
                  {formData.vanitySize === 'custom' && (
                    <div>
                      <label className="block mb-1">Custom Size (inches)</label>
                      <input 
                        type="number" 
                        name="vanityCustomSize" 
                        value={formData.vanityCustomSize} 
                        onChange={handleChange}
                        className="w-full p-2 border rounded"
                        min="0"
                        placeholder="Enter size"
                      />
                    </div>
                  )}
                </div>
              )}
            </div>
            
            <div className="mb-4 p-3 bg-yellow-100 rounded">
              <p className="text-yellow-800"> Portable commode is included automatically</p>
            </div>
            
            <div className="mt-6 flex justify-between">
              <button 
                onClick={prevStep}
                className="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"
              >
                Back
              </button>
              <button 
                onClick={nextStep}
                className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
              >
                Next
              </button>
            </div>
          </div>
        );
        
      case 9:
        return (
          <div className="p-4 bg-blue-50 rounded-lg">
            <h2 className="text-xl font-bold mb-4">Step 9: Grab Bars & Door Options</h2>
            
            <div className="mb-4 p-3 border rounded bg-white">
              <h3 className="font-semibold mb-2">Grab Bars (select all that apply)</h3>
              
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label className="flex items-center mb-2">
                    <input 
                      type="checkbox" 
                      name="grabBars.include12Inch" 
                      checked={formData.grabBars.include12Inch} 
                      onChange={handleChange}
                      className="mr-2"
                    />
                    12" Grab Bar
                  </label>
                  
                  {formData.grabBars.include12Inch && (
                    <div className="ml-6 mb-2">
                      <label className="block mb-1 text-sm">Quantity</label>
                      <input 
                        type="number" 
                        name="grabBars.quantity12Inch" 
                        value={formData.grabBars.quantity12Inch} 
                        onChange={handleChange}
                        className="w-full p-1 border rounded"
                        min="1"
                      />
                    </div>
                  )}
                </div>
                
                <div>
                  <label className="flex items-center mb-2">
                    <input 
                      type="checkbox" 
                      name="grabBars.include18Inch" 
                      checked={formData.grabBars.include18Inch} 
                      onChange={handleChange}
                      className="mr-2"
                    />
                    18" Grab Bar
                  </label>
                  
                  {formData.grabBars.include18Inch && (
                    <div className="ml-6 mb-2">
                      <label className="block mb-1 text-sm">Quantity</label>
                      <input 
                        type="number" 
                        name="grabBars.quantity18Inch" 
                        value={formData.grabBars.quantity18Inch} 
                        onChange={handleChange}
                        className="w-full p-1 border rounded"
                        min="1"
                      />
                    </div>
                  )}
                </div>
                
                <div>
                  <label className="flex items-center mb-2">
                    <input 
                      type="checkbox" 
                      name="grabBars.include24Inch" 
                      checked={formData.grabBars.include24Inch} 
                      onChange={handleChange}
                      className="mr-2"
                    />
                    24" Grab Bar
                  </label>
                  
                  {formData.grabBars.include24Inch && (
                    <div className="ml-6 mb-2">
                      <label className="block mb-1 text-sm">Quantity</label>
                      <input 
                        type="number" 
                        name="grabBars.quantity24Inch" 
                        value={formData.grabBars.quantity24Inch} 
                        onChange={handleChange}
                        className="w-full p-1 border rounded"
                        min="1"
                      />
                    </div>
                  )}
                </div>
                
                <div>
                  <label className="flex items-center mb-2">
                    <input 
                      type="checkbox" 
                      name="grabBars.include36Inch" 
                      checked={formData.grabBars.include36Inch} 
                      onChange={handleChange}
                      className="mr-2"
                    />
                    36" Grab Bar
                  </label>
                  
                  {formData.grabBars.include36Inch && (
                    <div className="ml-6 mb-2">
                      <label className="block mb-1 text-sm">Quantity</label>
                      <input 
                        type="number" 
                        name="grabBars.quantity36Inch" 
                        value={formData.grabBars.quantity36Inch} 
                        onChange={handleChange}
                        className="w-full p-1 border rounded"
                        min="1"
                      />
                    </div>
                  )}
                </div>
                
                <div>
                  <label className="flex items-center mb-2">
                    <input 
                      type="checkbox" 
                      name="grabBars.includeFlipUp" 
                      checked={formData.grabBars.includeFlipUp} 
                      onChange={handleChange}
                      className="mr-2"
                    />
                    Flip-up/Hinged Grab Bar
                  </label>
                  
                  {formData.grabBars.includeFlipUp && (
                    <div className="ml-6 mb-2">
                      <label className="block mb-1 text-sm">Quantity</label>
                      <input 
                        type="number" 
                        name="grabBars.quantityFlipUp" 
                        value={formData.grabBars.quantityFlipUp} 
                        onChange={handleChange}
                        className="w-full p-1 border rounded"
                        min="1"
                      />
                    </div>
                  )}
                </div>
                
                <div>
                  <label className="flex items-center mb-2">
                    <input 
                      type="checkbox" 
                      name="grabBars.includeWallToFloor" 
                      checked={formData.grabBars.includeWallToFloor} 
                      onChange={handleChange}
                      className="mr-2"
                    />
                    Wall to Floor Grab Bar
                  </label>
                  
                  {formData.grabBars.includeWallToFloor && (
                    <div className="ml-6 mb-2">
                      <label className="block mb-1 text-sm">Quantity</label>
                      <input 
                        type="number" 
                        name="grabBars.quantityWallToFloor" 
                        value={formData.grabBars.quantityWallToFloor} 
                        onChange={handleChange}
                        className="w-full p-1 border rounded"
                        min="1"
                      />
                    </div>
                  )}
                </div>
              </div>
            </div>
            
            <div className="mb-4 p-3 border rounded bg-white">
              <h3 className="font-semibold mb-2">Door Options</h3>
              
              <div className="mb-4">
                <label className="flex items-center">
                  <input 
                    type="checkbox" 
                    name="widenDoor" 
                    checked={formData.widenDoor} 
                    onChange={handleChange}
                    className="mr-2"
                  />
                  Widen Door
                </label>
                
                {formData.widenDoor && (
                  <div className="mt-2 ml-6 text-sm text-blue-600">
                    Note: Pre-hung door will be automatically added
                  </div>
                )}
              </div>
            </div>
            
            <div className="mt-6 flex justify-between">
              <button 
                onClick={prevStep}
                className="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"
              >
                Back
              </button>
              <button 
                onClick={nextStep}
                className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
              >
                Next
              </button>
            </div>
          </div>
        );
        
      case 10:
        return (
          <div className="p-4 bg-blue-50 rounded-lg">
            <h2 className="text-xl font-bold mb-4">Step 10: Demolition</h2>
            
            <div className="mb-4">
              <label className="flex items-center">
                <input 
                  type="checkbox" 
                  name="demolition.removeTub" 
                  checked={formData.demolition.removeTub} 
                  onChange={handleChange}
                  className="mr-2"
                />
                Remove Tub
              </label>
            </div>
            
            <div className="mb-4">
              <label className="flex items-center">
                <input 
                  type="checkbox" 
                  name="demolition.partitionWall" 
                  checked={formData.demolition.partitionWall} 
                  onChange={handleChange}
                  className="mr-2"
                />
                Demolish Partition Wall (if bathroom is being extended)
              </label>
              
              {formData.demolition.partitionWall && (
                <div className="mt-2 ml-6">
                  <label className="block mb-1">Partition Wall Size</label>
                  <select
                    name="demolition.partitionWallSize"
                    value={formData.demolition.partitionWallSize}
                    onChange={handleChange}
                    className="w-full p-2 border rounded"
                  >
                    <option value="small">Small Partition Wall</option>
                    <option value="bigger">Bigger Partition Wall</option>
                  </select>
                </div>
              )}
            </div>
            
            <div className="mb-4">
              <label className="flex items-center">
                <input 
                  type="checkbox" 
                  name="demolition.hasRadiator" 
                  checked={formData.demolition.hasRadiator} 
                  onChange={handleChange}
                  className="mr-2"
                />
                Bathroom has radiator
              </label>
              
              {formData.demolition.hasRadiator && (
                <div className="mt-2 ml-6">
                  <label className="block mb-1">Radiator Action</label>
                  <select
                    name="demolition.radiatorAction"
                    value={formData.demolition.radiatorAction}
                    onChange={handleChange}
                    className="w-full p-2 border rounded"
                  >
                    <option value="move">Move Radiator</option>
                    <option value="remove">Remove and Cut Lines Completely</option>
                  </select>
                  
                  {formData.demolition.radiatorAction === 'remove' && (
                    <div className="mt-2 text-sm text-blue-600">
                      Consider adding a wall heater as replacement
                    </div>
                  )}
                </div>
              )}
            </div>
            
            <div className="mt-6 flex justify-between">
              <button 
                onClick={prevStep}
                className="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"
              >
                Back
              </button>
              <button 
                onClick={nextStep}
                className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
              >
                Next
              </button>
            </div>
          </div>
        );
        
      case 11:
        return (
          <div className="p-4 bg-blue-50 rounded-lg">
            <h2 className="text-xl font-bold mb-4">Step 11: Wall Heater</h2>
            
            <div className="mb-4">
              <label className="flex items-center">
                <input 
                  type="checkbox" 
                  name="wallHeater" 
                  checked={formData.wallHeater} 
                  onChange={handleChange}
                  className="mr-2"
                />
                Install Wall Heater
              </label>
              
              {(formData.demolition.hasRadiator && formData.demolition.radiatorAction === 'remove') && (
                <div className="mt-2 text-sm text-orange-600">
                  Recommended: You selected to remove radiator, consider adding wall heater
                </div>
              )}
            </div>
            
            <div className="mt-6 flex justify-between">
              <button 
                onClick={prevStep}
                className="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"
              >
                Back
              </button>
              <button 
                onClick={nextStep}
                className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
              >
                Next
              </button>
            </div>
          </div>
        );
        
      case 12:
        return (
          <div className="p-4 bg-blue-50 rounded-lg">
            <h2 className="text-xl font-bold mb-4">Step 12: Electrical Options</h2>
            
            <div className="mb-4 p-3 border rounded bg-white">
              <h3 className="font-semibold mb-2">Basic Electrical (Included)</h3>
              <div className="text-sm text-gray-600 space-y-1">
                <div> Shower Light</div>
                <div> Vanity Light</div>
                <div> Underwriter Inspection</div>
                <div> Arc Fault Circuit Breaker for Bathroom</div>
                <div> Ground Fault Receptacle for Bathroom</div>
                {formData.homeInfo.hasBasement && <div> Carbon Monoxide Detector (basement detected)</div>}
                <div> Smoke Detector ({formData.homeInfo.numberOfFloors} for {formData.homeInfo.numberOfFloors} floor{formData.homeInfo.numberOfFloors > 1 ? 's' : ''})</div>
              </div>
            </div>
            
            <div className="mb-4">
              <label className="block mb-1">Ground Fault Receptacle Location</label>
              <select
                name="electrical.groundFaultLocation"
                value={formData.electrical.groundFaultLocation}
                onChange={handleChange}
                className="w-full p-2 border rounded"
              >
                <option value="first">First</option>
                <option value="second">Second</option>
                <option value="third">Third</option>
              </select>
            </div>
            
            <div className="mt-6 flex justify-between">
              <button 
                onClick={prevStep}
                className="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"
              >
                Back
              </button>
              <button 
                onClick={calculateMaterials}
                className="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600"
              >
                Calculate Materials
              </button>
            </div>
          </div>
        );
        
      case 15:
        return (
          <div className="p-4 bg-green-50 rounded-lg">
            <h2 className="text-xl font-bold mb-4">Materials Calculation Result</h2>
            
            {calculationResult && (
              <div>
                <div className="bg-white rounded shadow p-4 mb-4">
                  <h3 className="font-bold text-lg mb-3">Project Specifications</h3>
                  
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                      <h4 className="font-semibold">Original Dimensions</h4>
                      <p>Length: {calculationResult.dimensions.current.length || 'N/A'} ft</p>
                      <p>Width: {calculationResult.dimensions.current.width || 'N/A'} ft</p>
                      <p>Height: {calculationResult.dimensions.current.height || '8'} ft</p>
                    </div>
                    <div>
                      <h4 className="font-semibold">New Dimensions</h4>
                      <p>Length: {calculationResult.dimensions.new.length} ft</p>
                      <p>Width: {calculationResult.dimensions.new.width} ft</p>
                      <p>Height: {calculationResult.dimensions.new.height} ft</p>
                    </div>
                  </div>
                  
                  <div className="mb-4">
                    <h4 className="font-semibold">Calculation Summary</h4>
                    <div className="grid grid-cols-2 md:grid-cols-3 gap-2 text-sm">
                      <div>Framing: {calculationResult.calculations.framingArea.toFixed(2)} sq ft</div>
                      <div>Drywall: {calculationResult.calculations.drywallArea.toFixed(2)} sq ft</div>
                      <div>Wallboard: {calculationResult.calculations.wallboardArea.toFixed(2)} sq ft</div>
                      <div>Baseboard: {calculationResult.calculations.baseboardLength.toFixed(2)} lin ft</div>
                      <div>Fiberglass: {calculationResult.calculations.fiberglassArea.toFixed(2)} sq ft</div>
                      <div>Ceramic Tile: {calculationResult.calculations.ceramicTileArea.toFixed(2)} sq ft</div>
                      <div>Paint: {calculationResult.calculations.paintArea.toFixed(2)} sq ft</div>
                      <div>Shower Base: {calculationResult.calculations.showerBaseArea.toFixed(2)} sq ft</div>
                      <div>Shower Walls: {calculationResult.calculations.totalShowerWallArea.toFixed(2)} sq ft</div>
                    </div>
                  </div>
                </div>
                
                <div className="bg-white rounded shadow p-4 mb-4">
                  <h3 className="font-bold text-lg mb-3">Complete Materials List</h3>
                  
                  <table className="w-full">
                    <thead className="bg-gray-100">
                      <tr>
                        <th className="py-2 px-3 text-left">Description</th>
                        <th className="py-2 px-3 text-right">Quantity</th>
                        <th className="py-2 px-3 text-left">Unit</th>
                      </tr>
                    </thead>
                    <tbody>
                      {calculationResult.materials.map((material, index) => (
                        <tr key={index} className={index % 2 === 0 ? 'bg-gray-50' : ''}>
                          <td className="py-2 px-3">{material.description}</td>
                          <td className="py-2 px-3 text-right">{material.quantity}</td>
                          <td className="py-2 px-3">{material.unit}</td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
                
                <div className="flex justify-between">
                  <button 
                    onClick={() => {
                      setCurrentStep(1);
                      setCalculationResult(null);
                    }}
                    className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
                  >
                    Start New Calculation
                  </button>
                  <button 
                    onClick={() => {
                      window.print();
                    }}
                    className="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"
                  >
                    Print Materials List
                  </button>
                </div>
              </div>
            )}
          </div>
        );
        
      default:
        return null;
    }
  };
  
  return (
    <div className="max-w-4xl mx-auto p-4">
      <h1 className="text-2xl font-bold mb-2 text-center">All Access LLC</h1>
      <h2 className="text-xl mb-6 text-center">Complete Bathroom Remodeling Calculator</h2>
      
      {currentStep < 15 && (
        <div className="mb-6">
          <div className="flex flex-wrap">
            {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].map((step) => (
              <div 
                key={step} 
                className={`flex-1 text-center py-1 px-1 text-xs ${currentStep === step ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}
              >
                {step}
              </div>
            ))}
          </div>
          <div className="text-center text-xs mt-1 text-gray-600">
            Step {currentStep} of 12
          </div>
        </div>
      )}
      
      {renderStep()}
    </div>
  );
}

// Render to the DOM
// Render to the DOM
ReactDOM.render(React.createElement(BathroomCalculator), document.getElementById('root'));

    </script>
</body>
</html>